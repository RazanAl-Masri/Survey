<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Real Estate Survey – Turkey & Northern Cyprus</title>
<style>
  :root{
    --brand:#f15a29;--brand2:#ff8a50;--muted:#64748b;--border:#e5e7eb;
  }
  body{
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
    background:#f8fafc;
    margin:0;
    padding:20px;
    color:#0f172a;
  }
  .wrap{max-width:960px;margin:0 auto}
  .progress{display:flex;align-items:center;gap:10px;margin:0 0 24px}
  .bar{flex:1;height:12px;background:#e5e7eb;border-radius:999px;overflow:hidden}
  .bar>i{display:block;height:12px;background:linear-gradient(90deg,var(--brand),var(--brand2));width:0%}
  .stepcount{font-size:14px;color:var(--muted)}
  .card{
    background:#fff;
    border:1px solid var(--border);
    border-radius:22px;
    box-shadow:0 12px 36px rgba(15,23,42,.12);
    padding:32px;
  }
  .q{margin:0 0 24px;font-size:26px;line-height:1.4}
  .grid{display:grid;gap:18px}
  @media(min-width:720px){
    .grid{grid-template-columns:repeat(2,1fr)}
  }
  .opt{
    border:2px solid var(--border);
    background:#fff;
    border-radius:18px;
    padding:28px 20px;
    text-align:center;
    cursor:pointer;
    font-size:18px;
    line-height:1.3;
  }
  .opt:hover{
    border-color:#d1d5db;
    box-shadow:0 10px 24px rgba(15,23,42,.1);
  }
  .hidden{display:none}
  .actions{display:flex;gap:14px;flex-wrap:wrap;margin-top:20px}
  .btn{
    padding:16px 22px;
    border-radius:14px;
    text-decoration:none;
    display:inline-block;
    font-size:16px;
  }
  .primary{color:#fff;background:linear-gradient(90deg,var(--brand),var(--brand2))}
  .ghost{color:var(--brand);border:2px solid var(--brand);background:#fff}
  pre{background:#0b1220;color:#e2e8f0;border-radius:14px;padding:16px;overflow:auto;font-size:15px}
  .field{display:flex;gap:12px;flex-wrap:wrap;margin-top:14px}
  .input{
    width:100%;
    max-width:100%;
    padding:18px 20px;
    border:2px solid var(--border);
    border-radius:14px;
    font-size:17px;
    box-sizing:border-box;
  }
  textarea.input{
    resize:vertical;
    min-height:100px;
  }
  .next{
    padding:16px 20px;
    border-radius:14px;
    border:2px solid var(--brand);
    background:#fff;
    color:var(--brand);
    cursor:pointer;
    font-size:16px;
  }
  .help{color:#64748b;font-size:14px;margin-top:8px}
</style>
</head>
<body>
<div class="wrap">
  <!-- PROGRESS -->
  <div class="progress">
    <div class="bar"><i id="barfill" style="width:0%"></i></div>
    <div class="stepcount">Step <b id="stepnum">1</b>/<b id="steptotal">13</b></div>
  </div>

  <!-- 1 Goal -->
  <div class="card step" id="step-1">
    <h2 class="q">What’s your main goal?</h2>
    <div class="grid">
      <button class="opt" onclick="answer('goal','Holiday Home'); nextStep();">🏖️ Holiday Home</button>
      <button class="opt" onclick="answer('goal','Investment / Rental'); nextStep();">💼 Investment / Rental</button>
      <button class="opt" onclick="answer('goal','Relocation'); nextStep();">🏠 Relocation</button>
      <button class="opt" onclick="answer('goal','Residence Permit'); nextStep();">🛂 Residence Permit</button>
    </div>
  </div>

  <!-- 2 Location -->
  <div class="card step hidden" id="step-2">
    <h2 class="q">Preferred location?</h2>
    <div class="grid">
      <button class="opt" onclick="answer('location','Istanbul'); nextStep();">🌆 Istanbul</button>
      <button class="opt" onclick="answer('location','Antalya / Alanya'); nextStep();">🌴 Antalya / Alanya</button>
      <button class="opt" onclick="answer('location','Northern Cyprus'); nextStep();">🌊 Northern Cyprus</button>
      <button class="opt" onclick="answer('location','Not sure yet'); nextStep();">🤔 Not sure yet</button>
    </div>
  </div>

  <!-- 3 Property type -->
  <div class="card step hidden" id="step-3">
    <h2 class="q">Property type?</h2>
    <div class="grid">
      <button class="opt" onclick="answer('type','Apartment'); nextStep();">🏢 Apartment</button>
      <button class="opt" onclick="answer('type','Villa / House'); nextStep();">🏡 Villa / House</button>
      <button class="opt" onclick="answer('type','Land'); nextStep();">🌿 Land</button>
      <button class="opt" onclick="answer('type','Open to options'); nextStep();">🔍 Open to options</button>
    </div>
  </div>

  <!-- 4 Bedrooms -->
  <div class="card step hidden" id="step-4">
    <h2 class="q">Bedrooms needed?</h2>
    <div class="grid">
      <button class="opt" onclick="answer('bedrooms','Studio / 1+1'); nextStep();">🛏️ Studio / 1+1</button>
      <button class="opt" onclick="answer('bedrooms','2+1'); nextStep();">🛏️ 2+1</button>
      <button class="opt" onclick="answer('bedrooms','3+1'); nextStep();">🛏️ 3+1</button>
      <button class="opt" onclick="answer('bedrooms','4+1 or more'); nextStep();">🛏️ 4+1+</button>
    </div>
  </div>

  <!-- 5 Budget -->
  <div class="card step hidden" id="step-5">
    <h2 class="q">Budget range?</h2>
    <div class="grid">
      <button class="opt" onclick="answer('budget','Up to €100k (≈ $110k / £86k / ₺3.9M)'); nextStep();">🪙 Up to €100k</button>
      <button class="opt" onclick="answer('budget','€100k–€200k (≈ $110k–$220k / £86k–£172k / ₺3.9M–₺7.8M)'); nextStep();">💶 €100k–€200k</button>
      <button class="opt" onclick="answer('budget','€200k–€500k'); nextStep();">💷 €200k–€500k</button>
      <button class="opt" onclick="answer('budget','€500k+'); nextStep();">💎 €500k+</button>
    </div>
    <div class="help">Shown in EUR with helpful USD/GBP/TRY equivalents.</div>
  </div>

  <!-- 6 Timeline -->
  <div class="card step hidden" id="step-6">
    <h2 class="q">When do you plan to buy?</h2>
    <div class="grid">
      <button class="opt" onclick="answer('timeline','Now'); nextStep();">⚡ Now</button>
      <button class="opt" onclick="answer('timeline','Within 3 months'); nextStep();">📅 Within 3 months</button>
      <button class="opt" onclick="answer('timeline','3–12 months'); nextStep();">🗓️ 3–12 months</button>
      <button class="opt" onclick="answer('timeline','12+ months'); nextStep();">🕰️ 12+ months</button>
    </div>
  </div>

  <!-- 7 Financing -->
  <div class="card step hidden" id="step-7">
    <h2 class="q">How will you finance the purchase?</h2>
    <div class="grid">
      <button class="opt" onclick="answer('financing','Cash'); nextStep();">💵 Cash</button>
      <button class="opt" onclick="answer('financing','Developer Installments'); nextStep();">🧱 Developer Plan</button>
      <button class="opt" onclick="answer('financing','Bank Loan / Mortgage'); nextStep();">🏦 Bank Loan</button>
      <button class="opt" onclick="answer('financing','Not sure yet'); nextStep();">🤷 Not sure yet</button>
    </div>
  </div>

  <!-- 8 Residency importance -->
  <div class="card step hidden" id="step-8">
    <h2 class="q">Residence permit/citizenship importance?</h2>
    <div class="grid">
      <button class="opt" onclick="answer('residency','Must-have'); nextStep();">✅ Must-have</button>
      <button class="opt" onclick="answer('residency','Nice to have'); nextStep();">✨ Nice to have</button>
      <button class="opt" onclick="answer('residency','Not important'); nextStep();">🚫 Not important</button>
      <button class="opt" onclick="answer('residency','Need advice'); nextStep();">🧭 Need advice</button>
    </div>
  </div>

  <!-- 9 Viewing -->
  <div class="card step hidden" id="step-9">
    <h2 class="q">Planning a viewing visit?</h2>
    <div class="grid">
      <button class="opt" onclick="answer('visit','Yes, dates fixed'); nextStep();">✈️ Yes, dates fixed</button>
      <button class="opt" onclick="answer('visit','Yes, planning soon'); nextStep();">🗓️ Planning soon</button>
      <button class="opt" onclick="answer('visit','Want online/virtual'); nextStep();">💻 Online / Virtual</button>
      <button class="opt" onclick="answer('visit','Not yet'); nextStep();">⏳ Not yet</button>
    </div>
  </div>

  <!-- 10 Contact method -->
  <div class="card step hidden" id="step-10">
    <h2 class="q">Preferred contact method?</h2>
    <div class="grid">
      <button class="opt" onclick="answer('contact_method','WhatsApp'); nextStep();">📱 WhatsApp</button>
      <button class="opt" onclick="answer('contact_method','Phone call'); nextStep();">📞 Phone</button>
      <button class="opt" onclick="answer('contact_method','Email'); nextStep();">✉️ Email</button>
      <button class="opt" onclick="answer('contact_method','Any'); nextStep();">🔔 Any</button>
    </div>
  </div>

  <!-- 11 Full Name -->
  <div class="card step hidden" id="step-11">
    <h2 class="q">Your full name</h2>
    <div class="field">
      <input id="full_name" class="input" type="text" placeholder="Full Name" />
      <button class="next" onclick="saveText('full_name','name'); nextStep();">Next</button>
    </div>
  </div>

  <!-- 12 Email -->
  <div class="card step hidden" id="step-12">
    <h2 class="q">Your email</h2>
    <div class="field">
      <input id="email_addr" class="input" type="email" placeholder="name@example.com" />
      <button class="next" onclick="saveText('email_addr','email'); nextStep();">Next</button>
    </div>
    <div class="help">We’ll use this only to send property options and your session details.</div>
  </div>

  <!-- 13 Notes -->
  <div class="card step hidden" id="step-13">
    <h2 class="q">Any specific question or concern?</h2>
    <div class="field">
      <textarea id="notes" class="input" rows="4" placeholder="Tell us what matters most…"></textarea>
      <button class="next" onclick="saveText('notes','notes'); nextStep();">Finish</button>
    </div>
  </div>

  <!-- END -->
  <div class="card step hidden" id="step-14">
    <h2 class="q">Thanks! ✅</h2>
    <p class="help">Below is the summary. You can send it directly to your WhatsApp.</p>
    <pre id="summary">{}</pre>
    <div class="actions">
      <a id="waSendBtn" class="btn primary" href="#" target="_blank" rel="noopener">Send on WhatsApp</a>
      <a class="btn ghost" href="#" onclick="copySummary();return false;">Copy Summary</a>
    </div>
  </div>
</div>

<script>
  // Your WhatsApp number in international format (no + or spaces)
  const WA_NUMBER = '905425301811';

  // State
  const steps = Array.from(document.querySelectorAll('.step'));
  const stepNumEl = document.getElementById('stepnum');
  const stepTotalEl = document.getElementById('steptotal');
  const barFill = document.getElementById('barfill');
  const summaryEl = document.getElementById('summary');
  const waBtn = document.getElementById('waSendBtn');
  const QUESTION_COUNT = steps.length - 1; // excluding summary
  stepTotalEl.textContent = QUESTION_COUNT;

  const answers = {};
  let current = 1;

  // Helpers
  function show(n){
    steps.forEach((s,i)=> s.classList.toggle('hidden', (i !== n-1)));
    stepNumEl.textContent = Math.min(n, QUESTION_COUNT);
    barFill.style.width = Math.round(((n-1)/QUESTION_COUNT)*100) + '%';
  }
  function answer(k,v){ answers[k] = v; }
  function saveText(id,k){
    const el = document.getElementById(id);
    if(!el) return;
    const val = (el.value || '').trim();
    if(!val && (k==='name' || k==='email')){ el.focus(); return; }
    answers[k] = val;
  }
  function copySummary(){
    navigator.clipboard?.writeText(summaryEl.textContent);
    alert('Summary copied!');
  }
  function buildMsg(a){
    return [
      'New Buyer Survey (Turkey & Northern Cyprus)',
      '----------------------------------------',
      `Name: ${a.name||'-'}`,
      `Email: ${a.email||'-'}`,
      `Goal: ${a.goal||'-'}`,
      `Location: ${a.location||'-'}`,
      `Type: ${a.type||'-'}`,
      `Bedrooms: ${a.bedrooms||'-'}`,
      `Budget: ${a.budget||'-'}`,
      `Timeline: ${a.timeline||'-'}`,
      `Financing: ${a.financing||'-'}`,
      `Residency: ${a.residency||'-'}`,
      `Viewing: ${a.visit||'-'}`,
      `Contact Method: ${a.contact_method||'-'}`,
      '',
      `Notes: ${a.notes||'-'}`
    ].join('\n');
  }
  function makeWaUrl(text){
    return `https://wa.me/${WA_NUMBER}?text=${encodeURIComponent(text)}`;
  }

  // Navigation
  function nextStep(){
    current++;
    if(current > steps.length) current = steps.length;

    // When we reach the summary
    if(current === steps.length){
      const msg = buildMsg(answers);
      summaryEl.textContent = msg;
      const waUrl = makeWaUrl(msg);
      waBtn.setAttribute('href', waUrl);

      // Try to auto-open WhatsApp (browser may block; button is fallback)
      setTimeout(()=>{ window.open(waUrl, '_blank'); }, 200);
    }
    show(current);
  }

  // Init
  show(1);
</script>
</body>
</html>
